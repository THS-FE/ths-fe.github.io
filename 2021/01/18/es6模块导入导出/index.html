<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>es6模块导入导出 - 思路大前端团队</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#f7f7f7"><meta name="application-name" content="思路大前端"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="msapplication-TileColor" content="#f7f7f7"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="思路大前端"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="es6的模块导入导出的一些基本知识"><meta property="og:type" content="blog"><meta property="og:title" content="es6模块导入导出"><meta property="og:url" content="https://ths-fe.github.io/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/"><meta property="og:site_name" content="思路大前端团队"><meta property="og:description" content="es6的模块导入导出的一些基本知识"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://ths-fe.github.io/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/cover.jfif"><meta property="article:published_time" content="2021-01-18T14:30:45.000Z"><meta property="article:modified_time" content="2021-01-18T14:30:45.000Z"><meta property="article:author" content="王丽"><meta property="article:tag" content="Module"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/cover.jfif"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ths-fe.github.io/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/"},"headline":"思路大前端团队","image":[],"datePublished":"2021-01-18T14:30:45.000Z","dateModified":"2021-01-18T14:30:45.000Z","author":{"@type":"Person","name":"王丽"},"description":"es6的模块导入导出的一些基本知识"}</script><link rel="canonical" href="https://ths-fe.github.io/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/monokai.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?fd8cc3421abec7b8f4e6bc337e25c7d1";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-72716512-3" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-72716512-3');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-6826040978803389" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="generator" content="Hexo 5.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/ths.png" alt="思路大前端团队" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">博客</a><a class="navbar-item" href="/fe">大前端技术体系</a><a class="navbar-item" href="/gis">GIS技术体系</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/about">关于我们</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/cover.jfif" alt="es6模块导入导出"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-01-18T14:30:45.000Z" title="2021-01-18T14:30:45.000Z">2021-01-18</time>发表</span><span class="level-item"><time dateTime="2021-01-18T14:30:45.000Z" title="2021-01-18T14:30:45.000Z">2021-01-18</time>更新</span><span class="level-item"> 王丽 </span><span class="level-item"><a class="link-muted" href="/categories/JavaScript/">JavaScript</a><span> / </span><a class="link-muted" href="/categories/JavaScript/%E6%A8%A1%E5%9D%97%E5%8C%96/">模块化</a></span><span class="level-item">24 分钟读完 (大约3559个字)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">es6模块导入导出</h1><div class="content"><h1 id="es6-模块化导入导出简介"><a href="#es6-模块化导入导出简介" class="headerlink" title="es6 模块化导入导出简介"></a>es6 模块化导入导出简介</h1><h2 id="一、模块化和模块加载方案"><a href="#一、模块化和模块加载方案" class="headerlink" title="一、模块化和模块加载方案"></a>一、模块化和模块加载方案</h2><p>模块化指的就是将一个大程序拆分成若干个互相依赖的小文件,然后在用简单的方法拼装起来。</p>
<p>前端工程，在最早的时候是没有模块的概念的。随着前端工程的发展，前端开发也越来越规范化，更像是软件工程了。那么随之而来的，为了解决工程化的问题，就引入了模块的概念。</p>
<p>在 ES6 之前，社区制定了一些模块加载方案，最主要的有 CommonJS 和 AMD 两种。前者用于服务器，后者用于浏览器。</p>
<p>当模块化的概念越来越重要的时候，ES6 在语言标准的层面上，实现了模块功能。<a target="_blank" rel="noopener" href="https://ths.js.org/2020/05/29/JavaScript%E6%A8%A1%E5%9D%97%E5%8C%96/">了解更多</a>。</p>
<h2 id="二、es6-导入导出功能命令"><a href="#二、es6-导入导出功能命令" class="headerlink" title="二、es6 导入导出功能命令"></a>二、es6 导入导出功能命令</h2><p>模块功能主要由两个命令构成：<code>export</code>和<code>import</code>。<code>export</code>命令用于规定模块的对外接口，<code>import</code>命令用于输入其他模块提供的功能。</p>
<h3 id="2-1-export（导出命令）"><a href="#2-1-export（导出命令）" class="headerlink" title="2.1 export（导出命令）"></a>2.1 export（导出命令）</h3><p>一个 JS 文件，可以理解成一个模块，这个模块可以被任意其他的模块引入。文件模块被引入后，所有的东西，都是在自己的作用域中，主动发起引入行为的那个文件，虽然获取到了被引入的对象，但是并不能访问作用域里的东西，所以提供了 export，来决定一个<strong>模块对外暴露什么东西</strong>。</p>
<p><strong><em>export 的作用，就是用于从模块中导出函数、对象或原始值，以便其他程序可以通过 import 语句使用它们</em></strong>.</p>
<p>下面介绍下 export 的相关用法。</p>
<p>定义一个模块文件，名为为 moude1.js。里面定义了函数，对象，以及字符串：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;module - 1 : sayHello函数&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> people = &#123;</span><br><span class="line">  hair: <span class="string">&quot;color&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> firstName = <span class="string">&quot;lili&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> lastName = <span class="string">&quot;wang&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; sayHello, people, firstName &#125;;</span><br></pre></td></tr></table></figure>

<p>上面的 export 关键词可以规定这个文件对外暴露哪些变量。在 export 后的{}内中的变量就是对外暴露的变量可供其他文件使用。所以，在使用 import 导入的文件对象，就不再是一个空对象，而是包含了 export 内容的对象，所以，我们打印出<code>moude1.js</code> 文件对象得到的如图所示：</p>
<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/0.png" class="">

<h4 id="2-1-1-命名导出的几种写法"><a href="#2-1-1-命名导出的几种写法" class="headerlink" title="2.1.1 命名导出的几种写法"></a>2.1.1 命名导出的几种写法</h4><p>第 1 种写法：2.1 的例子中是其中一种写法。</p>
<p>第 2 种写法：<strong>每个对外暴露的变量前加上 export</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;module - 1 : sayHello函数&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> people = &#123;</span><br><span class="line">  hair: <span class="string">&quot;color&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> firstName = <span class="string">&quot;lili&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> lastName = <span class="string">&quot;wang&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>第 3 种写法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;module - 1 : sayHello函数&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> people = &#123;</span><br><span class="line">  hair: <span class="string">&quot;color&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> firstName = <span class="string">&quot;lili&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> lastName = <span class="string">&quot;wang&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">  people,</span><br><span class="line">  firstName,</span><br><span class="line">  sayHello <span class="keyword">as</span> peopleSayHello,</span><br><span class="line">  sayHello <span class="keyword">as</span> liliSayHello,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>如果你不想暴露模块当中的变量名字，可以通过 as 来进行操作，上面代码使用<code>as</code>关键字，重命名了函数<strong>sayHello</strong>的对外接口。重命名后，<strong>sayHello</strong>可以用不同的名字输出两次。</p>
<p><strong>注意</strong>：需要说明一点的是，<code>export</code>命令可以出现在模块的任何位置，只要处于模块顶层就可以。及，针对上面的代码来说不能处于 sayHello 函数中，会报错。如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;module - 1 : sayHello函数&quot;</span>);</span><br><span class="line">  <span class="keyword">export</span> &#123;</span><br><span class="line">    people,</span><br><span class="line">    firstName,</span><br><span class="line">    sayHello <span class="keyword">as</span> peopleSayHello,</span><br><span class="line">    sayHello <span class="keyword">as</span> liliSayHello,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面代码报错如下：</p>
<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/1.png" class="">

<h4 id="2-1-2-默认导出（export-default）"><a href="#2-1-2-默认导出（export-default）" class="headerlink" title="2.1.2 默认导出（export default）"></a>2.1.2 默认导出（export default）</h4><p>export default 文件的默认导出接口。</p>
<ul>
<li>在一个文件或模块中，export、import 可以有多个，export default 仅有一个。</li>
<li>export default 中的 default 是对应的导出接口变量。</li>
<li>通过 export 方式导出，在<strong>导入</strong>时要加{ }，export default 则不需要。（在导入的时候会举例说明）</li>
<li>export default 向外暴露的成员，可以使用任意变量来接收。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;module - 1 : sayHello函数&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> people = &#123;</span><br><span class="line">  hair: <span class="string">&quot;color&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> firstName = <span class="string">&quot;Michael&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> lastName = <span class="string">&quot;Jackson&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> year = <span class="number">1958</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; sayHello, people, firstName &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;default&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="2-1-3-取到模块内部实时的值"><a href="#2-1-3-取到模块内部实时的值" class="headerlink" title="2.1.3 取到模块内部实时的值"></a>2.1.3 取到模块内部实时的值</h4><p><code>export</code>语句输出的接口，与其对应的值是动态绑定关系，即通过该接口，可以取到模块内部实时的值。</p>
<p>module1.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> foo = <span class="string">&quot;bar&quot;</span>;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> (foo = <span class="string">&quot;baz&quot;</span>), <span class="number">500</span>);</span><br></pre></td></tr></table></figure>

<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/2.png" class="">

<h3 id="2-3-import-命令"><a href="#2-3-import-命令" class="headerlink" title="2.3 import 命令"></a>2.3 import 命令</h3><p>使用<code>export</code>命令定义了模块的对外接口以后，其他 JS 文件就可以通过<code>import</code>命令加载这个模块。</p>
<p>比如上面的 module1.js。在其他文件中要使用 module1.js 中暴露的变量，该如何使用呢。</p>
<h4 id="2-3-1-导入整个文件对象"><a href="#2-3-1-导入整个文件对象" class="headerlink" title="2.3.1 导入整个文件对象"></a>2.3.1 导入整个文件对象</h4><p>在 main.js 中引入整个文件对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> m1 <span class="keyword">from</span> <span class="string">&quot;./moude1.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m1);</span><br></pre></td></tr></table></figure>

<p>示例中，impot 所有（*），使用 as 为文件对象命名为<code>m1</code> ，可以访问到文件对象的所有对外接口。</p>
<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/3.png" class="">

<h4 id="2-3-2-导入部分接口"><a href="#2-3-2-导入部分接口" class="headerlink" title="2.3.2 导入部分接口"></a>2.3.2 导入部分接口</h4><p>在实际开发中，我们并不需要导出所有的接口。我们知道，import 导出的是整个文件对象，那么我们直接在 <code>import</code> 语句中，对这个对象进行解构，就可以获得其中某一部分接口：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; sayHello, people &#125; <span class="keyword">from</span> <span class="string">&quot;./moude1.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sayHello);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(people);</span><br></pre></td></tr></table></figure>

<p>上面的语句中，只导入了 moude1.js 中的 sayHello 对象和 people 对象。打印结果如下：</p>
<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/4.png" class="">

<p>(1**)变量名保持一致**：需要注意的是，导出部分接口的时候，import 大括号里面的变量名，必须与被导入模块（<code>module1.js</code>）对外接口的暴露对象名一致。</p>
<p>比如，<strong>sayHello</strong>，<strong>people</strong>都是<strong><em>moude1.js</em></strong>中*export{}*中对应的名称。（比如 module1.js 中对外暴露的对象，如下图）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; sayHello, people, firstName &#125;;</span><br></pre></td></tr></table></figure>

<p>(2)<strong><code>import</code>使用 as 关键字</strong>：如果导入的多个文件中，变量名字相同，即会产生命名冲突的问题，为了解决该问题，ES6 为提供了重命名的方法，如果想为输入的变量重新取一个名字，<code>import</code>命令要使用<code>as</code>关键字，为变量重命名。（比如我们将 moude1.js 中暴露的<strong>sayHello</strong> 在 main.js 中引入的时候重命名为<strong>peopleSayHello</strong>）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; sayHello <span class="keyword">as</span> moude1Sayhello, people &#125; <span class="keyword">from</span> <span class="string">&quot;./moude1.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(moude1Sayhello);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(people);</span><br></pre></td></tr></table></figure>

<p>打印结果如下：</p>
<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/5.png" class="">

<h4 id="2-3-3-import-命令的几点特点"><a href="#2-3-3-import-命令的几点特点" class="headerlink" title="2.3.3 import 命令的几点特点"></a>2.3.3 import 命令的几点特点</h4><p><strong>只读属性</strong>：import 导入的变量为常量，所以不允许修改。对于引用类型的变量，变量名不指向数据，而是指向数据所在的地址。故可以修改引用类型的属性的值。常量只是保证变量名指向的地址不变，并不保证该地址的数据不变。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; a &#125; <span class="keyword">from</span> <span class="string">&quot;./xxx.js&quot;</span>;</span><br><span class="line">a = &#123;&#125;; <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; a &#125; <span class="keyword">from</span> <span class="string">&quot;./xxx.js&quot;</span>;</span><br><span class="line">a.foo = <span class="string">&quot;hello&quot;</span>; <span class="comment">// a = &#123; foo : &#x27;hello&#x27; &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>单例模式</strong>：多次重复执行同一句 import 语句，那么只会执行一次，而不会执行多次。import 同一模块，声明不同接口引用，会声明对应变量，但只执行一次 import 。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; a &#125; <span class="keyword">from</span> <span class="string">&quot;./xxx.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; b &#125; <span class="keyword">from</span> <span class="string">&quot;./xxx.js&quot;</span>;</span><br><span class="line"><span class="comment">// 相当于 import &#123; a, b &#125; from &quot;./xxx.js&quot;;</span></span><br></pre></td></tr></table></figure>

<p><strong>静态执行特性</strong>：import 是静态执行，所以不能使用表达式和变量。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="string">&quot;f&quot;</span> + <span class="string">&quot;oo&quot;</span> &#125; <span class="keyword">from</span> <span class="string">&quot;methods&quot;</span>; <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">module</span> = <span class="string">&quot;methods3&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; foo &#125; <span class="keyword">from</span> <span class="built_in">module</span>; <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">import</span> &#123; foo &#125; <span class="keyword">from</span> <span class="string">&quot;method1&quot;</span>; <span class="comment">// error</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">import</span> &#123; foo &#125; <span class="keyword">from</span> <span class="string">&quot;method2&quot;</span>; <span class="comment">// error</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-3-4-导入默认接口"><a href="#2-3-4-导入默认接口" class="headerlink" title="2.3.4 导入默认接口"></a>2.3.4 导入默认接口</h4><p>（1）<strong>导入带有 export default 的文件对象</strong>，module1.js 如下所示</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;module - 1 : sayHello函数&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> people = &#123;</span><br><span class="line">  hair: <span class="string">&quot;color&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> firstName = <span class="string">&quot;Michael&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> lastName = <span class="string">&quot;Jackson&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> year = <span class="number">1958</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; sayHello, people, firstName &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;default&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>在 main.js 中引入整个文件对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> m1 <span class="keyword">from</span> <span class="string">&quot;./moude1.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m1);</span><br></pre></td></tr></table></figure>

<p>打印如下：</p>
<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/6.png" class="">

<p>可以看出，export default 的作用，是给文件对象添加一个 default 属性，default 属性的值也是一个对象，且和 export default 导出的内容完全一致。</p>
<p>（2）如何只导入默认接口呢？</p>
<p>上面我们说到，本质上，<code>export default</code>就是输出一个叫做<code>default</code>的变量或方法，然后系统允许你为它取任意名字。如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> d <span class="keyword">from</span> <span class="string">&quot;./moude1.js&quot;</span>; <span class="comment">// 不需要加&#123;&#125;， 使用任意变量接收 等价为 import &#123;default as d&#125; from &quot;./moude1.js&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(d);</span><br></pre></td></tr></table></figure>

<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/7.png" class="">

<p>注意：但是这个任意名字不包括<strong><em>default</em></strong>。</p>
<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/8.png" class="">

<h4 id="2-3-5-动态导入"><a href="#2-3-5-动态导入" class="headerlink" title="2.3.5 动态导入"></a>2.3.5 动态导入</h4><p>2.3.3 中我们说到 import 是静态执行，所以不能使用表达式和变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">import</span> &#123; foo &#125; <span class="keyword">from</span> <span class="string">&quot;method1&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">import</span> &#123; foo &#125; <span class="keyword">from</span> <span class="string">&quot;method2&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// error</span></span><br></pre></td></tr></table></figure>

<p>引擎处理<code>import</code>语句是在编译时，这时不会去分析或执行<code>if</code>语句。所以<code>import</code>语句放在<code>if</code>代码块之中毫无意义，因此会报句法错误，而不是执行时错误。这样的设计，固然有利于编译器提高效率，但也导致无法在运行时加载模块。在语法上，条件加载就不可能实现。<a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-dynamic-import">ES2020 提案</a> 引入<code>import()</code>函数，支持动态加载模块。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(specifier);</span><br></pre></td></tr></table></figure>

<p>上面代码中，<code>import</code>函数的参数<code>specifier</code>，指定所要加载的模块的位置。</p>
<p><code>import()</code>返回一个 Promise 对象。下面是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="string">&quot;./moude1.js&quot;</span>).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>在这段代码中，then 中回调的 data 就是文件模块的整个文件对象（包括 export 和 export default）。</p>
<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/9.png" class="">

<ul>
<li><code>import()</code>函数可以用在任何地方，不仅仅是模块，非模块的脚本也可以使用。它是运行时执行，也就是说，什么时候运行到这一句，就会加载指定的模块。</li>
<li><code>import()</code>类似于 Node 的<code>require</code>方法，区别主要是前者是异步加载，后者是同步加载。</li>
</ul>
<p><strong>适合场合</strong></p>
<p>（1）按需加载。</p>
<p><code>import()</code>可以在需要的时候，再加载某个模块。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">button.addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&quot;./dialogBox.js&quot;</span>)</span><br><span class="line">    .then(<span class="function">(<span class="params">dialogBox</span>) =&gt;</span> &#123;</span><br><span class="line">      dialogBox.open();</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">/* Error handling */</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>上面代码中，<code>import()</code>方法放在<code>click</code>事件的监听函数之中，只有用户点击了按钮，才会加载这个模块。</p>
<p>（2）条件加载</p>
<p><code>import()</code>可以放在<code>if</code>代码块，根据不同的情况，加载不同的模块。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&#x27;moduleA&#x27;</span>).then(...);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&#x27;moduleB&#x27;</span>).then(...);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面代码中，如果满足条件，就加载模块 A，否则加载模块 B。</p>
<p>（3）动态的模块路径</p>
<p><code>import()</code>允许模块路径动态生成。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(f())</span><br><span class="line">.then(...);</span><br></pre></td></tr></table></figure>

<p>上面代码中，根据函数<code>f</code>的返回结果，加载不同的模块</p>
<p><strong>注意点</strong></p>
<p><code>import()</code>加载模块成功以后，这个模块会作为一个对象，当作<code>then</code>方法的参数。因此，可以使用对象解构赋值的语法，获取输出接口。还是用之前的 moude1.js 举例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;module - 1 : sayHello函数&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> people = &#123;</span><br><span class="line">  hair: <span class="string">&quot;color&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> firstName = <span class="string">&quot;Michael&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; sayHello, people, firstName, foo &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;default&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="string">&quot;./moude1.js&quot;</span>).then(<span class="function">(<span class="params">&#123; sayHello, people &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...·</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>上面代码中，<code>sayHello</code>和<code>people</code>都是<code>myModule.js</code>的输出接口，可以解构获得。</p>
<p>如果模块有<code>default</code>输出接口，可以用参数直接获得。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="string">&quot;./moude1.js&quot;</span>).then(<span class="function">(<span class="params">myModule</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(myModule.default);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>上面的代码也可以使用具名输入的形式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="string">&quot;./myModule.js&quot;</span>).then(<span class="function">(<span class="params">&#123; <span class="keyword">default</span>: theDefault &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(theDefault);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>如果想同时加载多个模块，可以采用下面的写法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all([</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&#x27;./module1.js&#x27;</span>),</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&#x27;./module2.js&#x27;</span>),</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&#x27;./module3.js&#x27;</span>),</span><br><span class="line">])</span><br><span class="line">.then(<span class="function">(<span class="params">[module1, module2, module3]</span>) =&gt;</span> &#123;</span><br><span class="line">   ···</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>import()</code>也可以用在 async 函数之中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> myModule = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">&quot;./myModule.js&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> &#123; export1, export2 &#125; = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">&quot;./myModule.js&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> [module1, module2, module3] = <span class="keyword">await</span> <span class="built_in">Promise</span>.all([</span><br><span class="line">    <span class="keyword">import</span>(<span class="string">&quot;./module1.js&quot;</span>),</span><br><span class="line">    <span class="keyword">import</span>(<span class="string">&quot;./module2.js&quot;</span>),</span><br><span class="line">    <span class="keyword">import</span>(<span class="string">&quot;./module3.js&quot;</span>),</span><br><span class="line">  ]);</span><br><span class="line">&#125;</span><br><span class="line">main();</span><br></pre></td></tr></table></figure>

<h3 id="2-4-export-与-import-的复合写法"><a href="#2-4-export-与-import-的复合写法" class="headerlink" title="2.4 export 与 import 的复合写法"></a>2.4 export 与 import 的复合写法</h3><p>如果在一个模块之中，先输入后输出同一个模块，<code>import</code>语句可以与<code>export</code>语句写在一起。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; foo, bar &#125; <span class="keyword">from</span> <span class="string">&quot;my_module&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以简单理解为</span></span><br><span class="line"><span class="keyword">import</span> &#123; foo, bar &#125; <span class="keyword">from</span> <span class="string">&quot;my_module&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; foo, bar &#125;;</span><br></pre></td></tr></table></figure>

<p>上面代码中，<code>export</code>和<code>import</code>语句可以结合在一起，写成一行。但需要注意的是，写成一行以后，<code>foo</code>和<code>bar</code>实际上并没有被导入当前模块，只是相当于对外转发了这两个接口，导致当前模块不能直接使用<code>foo</code>和<code>bar</code>。</p>
<p>模块的接口改名和整体输出，也可以采用这种写法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接口改名</span></span><br><span class="line"><span class="keyword">export</span> &#123; foo <span class="keyword">as</span> myFoo &#125; <span class="keyword">from</span> <span class="string">&quot;my_module&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 整体输出</span></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&quot;my_module&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>默认接口的写法如下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./someModule&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>具名接口改为默认接口的写法如下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; es6 <span class="keyword">as</span> <span class="keyword">default</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./someModule&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">import</span> &#123; es6 &#125; <span class="keyword">from</span> <span class="string">&#x27;./someModule&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> es6;</span><br></pre></td></tr></table></figure>

<p>同样地，默认接口也可以改名为具名接口。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> es6 &#125; <span class="keyword">from</span> <span class="string">&quot;./someModule&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>ES2020 之前，有一种<code>import</code>语句，没有对应的复合写法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> someIdentifier <span class="keyword">from</span> <span class="string">&quot;./someModule&quot;</span>;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-export-ns-from">ES2020</a>补上了这个写法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> * <span class="keyword">as</span> someIdentifier <span class="keyword">from</span> <span class="string">&quot;./someModule&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> someIdentifier <span class="keyword">from</span> <span class="string">&quot;./someModule&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; someIdentifier &#125;;</span><br></pre></td></tr></table></figure>

<h3 id="2-5-例子"><a href="#2-5-例子" class="headerlink" title="2.5 例子"></a>2.5 例子</h3><p>模块 1（module1.js）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> people = &#123;</span><br><span class="line">  hair: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> address = <span class="string">&quot;china&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="string">&quot;bar&quot;</span>;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> (foo = <span class="string">&quot;baz&quot;</span>), <span class="number">500</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;module - 1 : sayHello函数&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; people, address, foo <span class="keyword">as</span> fooDelayedTest &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;default&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>模块 2 （module2.js）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> address = <span class="string">&quot;Japan&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; address &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;default2&quot;</span>,</span><br><span class="line">  init: <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(init);</span><br><span class="line">  &#125;,</span><br><span class="line">  baseInfo: &#123;</span><br><span class="line">    number: <span class="number">0</span>,</span><br><span class="line">    length: <span class="number">10</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>主引用 （main.js）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> m1 <span class="keyword">from</span> <span class="string">&quot;./moude1.js&quot;</span>; <span class="comment">// 导入整个文件对象</span></span><br><span class="line"><span class="keyword">import</span> &#123; sayHello, address &#125; <span class="keyword">from</span> <span class="string">&quot;./moude1.js&quot;</span>; <span class="comment">// 导入部分接口</span></span><br><span class="line"><span class="keyword">import</span> &#123; fooDelayedTest &#125; <span class="keyword">from</span> <span class="string">&quot;./moude1.js&quot;</span>; <span class="comment">// 导入export中用as重命名后的接口</span></span><br><span class="line"><span class="keyword">import</span> &#123; address <span class="keyword">as</span> japanAddress &#125; <span class="keyword">from</span> <span class="string">&quot;./moude2.js&quot;</span>; <span class="comment">// 导入address后重命名为peopleAddress</span></span><br><span class="line"><span class="keyword">import</span> def <span class="keyword">from</span> <span class="string">&quot;./moude1.js&quot;</span>; <span class="comment">// 导入moude1.js中的默认接口</span></span><br><span class="line"><span class="keyword">import</span> def2 <span class="keyword">from</span> <span class="string">&quot;./moude2.js&quot;</span>; <span class="comment">// 导入moude2.js中的默认接口</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(address);</span><br><span class="line"><span class="built_in">console</span>.log(japanAddress);</span><br><span class="line"><span class="keyword">let</span> &#123; name, init, baseInfo &#125; = def2; <span class="comment">// 导出的默认接口可以被解构</span></span><br></pre></td></tr></table></figure>

<h3 id="2-6-试试"><a href="#2-6-试试" class="headerlink" title="2.6 试试"></a>2.6 试试</h3><p>问题</p>
<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/question.png" class="">

<p>答案</p>
<img src="/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/answer.png" class="">
</div><div class="article-licensing box"><div class="licensing-title"><p>es6模块导入导出</p><p><a href="https://ths-fe.github.io/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/">https://ths-fe.github.io/2021/01/18/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>王丽</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-01-18</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-01-18</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="" rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Module/">Module</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5ea1492221690600121bcf3a&amp;product=inline-share-buttons&amp;cms=sop" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipayqr.jpg" alt="支付宝"></span></a><a class="button donate" href="https://www.buymeacoffee.com/zapzqc?new=1" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>送我杯咖啡</span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechatqr.jpg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/01/29/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">正则表达式</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/01/09/web%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9D%E5%85%B8/"><span class="level-item">web性能优化宝典</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content" id="valine-thread"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script><script>new Valine({
            el: '#valine-thread' ,
            appId: "4o5OfjCIGaSyqIwg7jop80Ge-gzGzoHsz",
            appKey: "Rj9jcPLhW8WgWd6bDmXGmKaA",
            placeholder: "欢迎评论交流",
            avatar: "mm",
            
            meta: ["nick","mail","link"],
            pageSize: 10,
            lang: "zh-CN",
            
            highlight: true,
            
            
            
            
            
            requiredFields: [],
        });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#es6-模块化导入导出简介"><span class="level-left"><span class="level-item">es6 模块化导入导出简介</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#一、模块化和模块加载方案"><span class="level-left"><span class="level-item">一、模块化和模块加载方案</span></span></a></li><li><a class="level is-mobile" href="#二、es6-导入导出功能命令"><span class="level-left"><span class="level-item">二、es6 导入导出功能命令</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#2-1-export（导出命令）"><span class="level-left"><span class="level-item">2.1 export（导出命令）</span></span></a></li><li><a class="level is-mobile" href="#2-3-import-命令"><span class="level-left"><span class="level-item">2.3 import 命令</span></span></a></li><li><a class="level is-mobile" href="#2-4-export-与-import-的复合写法"><span class="level-left"><span class="level-item">2.4 export 与 import 的复合写法</span></span></a></li><li><a class="level is-mobile" href="#2-5-例子"><span class="level-left"><span class="level-item">2.5 例子</span></span></a></li><li><a class="level is-mobile" href="#2-6-试试"><span class="level-left"><span class="level-item">2.6 试试</span></span></a></li></ul></li></ul></li></ul></div></div><style>.menu-list > li > a.is-active + .menu-list { display: block; }.menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label"> </h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6826040978803389" data-ad-slot="1033672070" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/ths.png" alt="思路大前端团队" height="28"></a><p class="is-size-7"><span>&copy; 2023 王丽</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>